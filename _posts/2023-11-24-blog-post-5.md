
---
title: "Docker with ROS2 humble"
excerpt: " 
Docker file and docker build.
<br/><img src='/images/FCN.png'>"
---

mkdir ~/docker_rosHum

cd ~/docker_rosHum

touch Dockerfile

echo 'FROM osrf/ros:humble-desktop-full\n\nARG USERNAME=sepid\nARG USER_UID=1000\nARG USER_GID=$USER_UID\n\n# Create the user\nRUN groupadd --gid $USER_GID $USERNAME \\\n    && useradd --uid $USER_UID --gid $USER_GID -m $USERNAME \\\n    && apt-get update \\\n    && apt-get install -y sudo \\\n    && echo $USERNAME ALL=\\(root\\) NOPASSWD:ALL > /etc/sudoers.d/$USERNAME \\\n    && chmod 0440 /etc/sudoers.d/$USERNAME \\\n    && apt-get update \\\n    && apt-get upgrade -y \\\n    && apt-get install -y python3-pip \\\n    && apt-get install -y terminator \\\n\nENV SHELL /bin/bash\nUSER $USERNAME\nCMD ["/bin/bash"]' > Dockerfile


docker build ~/docker_rosHum ros-humble-container

mkdir ~/Volumes

docker run -it --privileged --rm --user=$(id -u $USER):$(id -g $USER) --env="DISPLAY" --volume="/etc/group:/etc/group:ro" --volume="/etc/passwd:/etc/passwd:ro" --volume="/etc/shadow:/etc/shadow:ro" --volume="/etc/sudoers.d:/etc/sudoers.d:ro" --net host -v /home:/home -v ~/Volumes:/home/sepid/ ros-humb-container


